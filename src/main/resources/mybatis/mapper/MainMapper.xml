<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.bit.house.mapper.MainMapper">

    <select id="selectMainList" resultType="productVO">
		select productNo, sellerName, productName, customerPrice, productMainImg from thehouse.product limit 12
	</select>
	<!--&lt;!&ndash;productNo별로 총판매량 구해서 100개만 가져오기 &ndash;&gt;
	<select id="selectTotalQty" resultType="productQtyVO">
		select productNo, sum(productSellingQty) totalQty from thehouse.productoption group by productNo order by totalQty desc limit 100
	</select>

	<select id="selectDetail" parameterType="String" resultType="productQtyVO">
		select sellerName, productName, customerPrice, productMainImg from thehouse.product where productNo=#{productNO}
	</select>-->

	<select id="selectBestLists" resultType="productQtyVO">
		select *, dense_rank() over (order by totalQty desc) as ranking from thehouse.producttotalqty limit 100
	</select>

	<select id="selectNewBestLists" resultType="productQtyVO">
		select *, dense_rank() over (order by totalQty desc) as ranking from thehouse.producttotalqty
		where productCreateDate> DATE_ADD(now(), INTERVAL -1 month) limit 100
	</select>

</mapper>